---
// Redirect automático de "/" a "/home" con pantalla de carga gaming
import Layout from '../layouts/Layout.astro';
---

<Layout title="Pucará Gaming - Cargando...">
  <div id="gaming-initial-loader" class="fixed inset-0 bg-gradient-to-br from-black via-gray-900 to-black z-50 flex flex-col items-center justify-center">
    
    <!-- Logo de Pucará con animación -->
    <div class="mb-8">
      <img src="/logopucara.png" alt="Pucará Gaming" class="w-32 h-32 animate-pulse filter drop-shadow-lg" style="filter: drop-shadow(0 0 20px rgba(234, 96, 26, 0.5));" />
    </div>
    
    <!-- Texto principal -->
    <h1 class="text-4xl font-bold text-white mb-4 text-center animate-fade-in">
      <span class="text-primary">PUCARÁ</span> GAMING
    </h1>
    
    <!-- Texto de carga -->
    <p class="text-white/80 text-lg mb-8 animate-bounce-slow">
      Iniciando experiencia gaming...
    </p>
    
    <!-- Barra de progreso -->
    <div class="w-80 h-2 bg-gray-800 rounded-full overflow-hidden mb-6">
      <div id="initial-progress" class="h-full bg-gradient-to-r from-primary to-orange-400 rounded-full transition-all duration-300"></div>
    </div>
    
    <!-- Efectos de partículas -->
    <div class="absolute inset-0 pointer-events-none">
      <div class="absolute top-1/4 left-1/4 w-2 h-2 bg-primary rounded-full animate-ping"></div>
      <div class="absolute top-1/3 right-1/3 w-1 h-1 bg-orange-400 rounded-full animate-ping delay-500"></div>
      <div class="absolute bottom-1/4 left-1/3 w-1.5 h-1.5 bg-primary rounded-full animate-ping delay-1000"></div>
    </div>
    
    <!-- Mensaje de redirección -->
    <div class="text-center mt-8">
      <p class="text-white/60 text-sm animate-fade-in-delay">
        Redirigiendo a inicio...
      </p>
    </div>
  </div>
</Layout>

<style>
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes bounce-slow {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
  
  @keyframes fade-in-delay {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  .animate-fade-in {
    animation: fade-in 1s ease-out;
  }
  
  .animate-bounce-slow {
    animation: bounce-slow 2s ease-in-out infinite;
  }
  
  .animate-fade-in-delay {
    animation: fade-in-delay 1s ease-out 1.5s both;
  }
  
  .delay-500 {
    animation-delay: 0.5s;
  }
  
  .delay-1000 {
    animation-delay: 1s;
  }
</style>

<script>
// Redirect automático con pantalla de carga gaming
(function() {
  let progress = 0;
  const progressBar = document.getElementById('initial-progress');
  
  // Animar barra de progreso
  const interval = setInterval(() => {
    progress += 3.33; // Para completar en 3 segundos (100 / 30 = 3.33)
    
    if (progressBar) {
      progressBar.style.width = Math.min(progress, 100) + '%';
    }
    
    if (progress >= 100) {
      clearInterval(interval);
      
      // Redirect después de completar la carga
      setTimeout(() => {
        window.location.href = '/home';
      }, 500);
    }
  }, 100); // Actualizar cada 100ms
})();
</script>